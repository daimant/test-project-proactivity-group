(this["webpackJsonptest-project-proactivity-group"]=this["webpackJsonptest-project-proactivity-group"]||[]).push([[0],{12:function(e,t,a){e.exports={favorites:"Favorites_favorites__3esbM",favoritesHeader:"Favorites_favoritesHeader__376XR",nothing:"Favorites_nothing__3EVQ4",logotype:"Favorites_logotype__2pOIN",name:"Favorites_name__ElmLL",partners:"Favorites_partners__2yOoi",projects:"Favorites_projects__cT1vf",rate:"Favorites_rate__1tjdF",changer:"Favorites_changer__27gsa"}},2:function(e,t,a){e.exports={serviceList:"ServiceList_serviceList__2PvgX",serviceListHeader:"ServiceList_serviceListHeader__161r7",itemsHeader:"ServiceList_itemsHeader__TOgfX",about:"ServiceList_about__1aflN",partners:"ServiceList_partners___2VaC",projects:"ServiceList_projects__30MG-",rate:"ServiceList_rate__HDJv9",changer:"ServiceList_changer__2cIuv",activeButton:"ServiceList_activeButton__2Vqfo",downloadButton:"ServiceList_downloadButton__1fck9"}},32:function(e,t,a){},46:function(e,t,a){e.exports=a(75)},51:function(e,t,a){},6:function(e,t,a){e.exports={isSponsor:"ServiceItem_isSponsor__2W_C6",serviceItem:"ServiceItem_serviceItem__1IW2x",number:"ServiceItem_number__3IsvV",logotype:"ServiceItem_logotype__MUbx0",name:"ServiceItem_name__CS-lc",nav:"ServiceItem_nav__3HBWJ",partners:"ServiceItem_partners__2O-oX",projects:"ServiceItem_projects__39HDf",rate:"ServiceItem_rate__3p8Ya",changer:"ServiceItem_changer__dY9JB"}},75:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(24),s=a.n(c);a(51),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(32);var o=a(9),i=a(10),u=a(14),l=[{link:"/service-list",text:"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432"},{link:"/favorites",text:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"}],v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;arguments.length>1&&arguments[1];return e},m=a(43),p=a(17),_=a.n(p),f=a(26),d=a(13),E=a(16),h=a(44).create({baseURL:"https://api.cmsmagazine.ru/v1/"}),g=function(e){return h.get("instrumentsList?instrument_type_code=cms&page=".concat(e,"&sort_direction=desc&sort=partners_count")).then((function(e){return e.data}))},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return h.get("instrumentsList?instrument_type_code=cms&page=1&sort_direction=".concat(t%2?"asc":"desc","&sort=").concat(e)).then((function(e){return e.data}))},S=function(e,t,a){return h.get("instrumentsList?instrument_type_code=cms&page=".concat(e,"&sort_direction=").concat(t,"&sort=").concat(a)).then((function(e){return e.data}))},N={current_page:1,data:[],favorites:[],countSort:1,sortType:"partners_count",sortDirect:"desc"},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"partners_count",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"desc";return{type:"SET_SERVICES",services:e,sort:t,sortType:a,countSort:r}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SERVICES":return t.sort?Object(E.a)({},e,{data:Object(d.a)(t.services.data),current_page:t.services.current_page,countSort:e.countSort+1,sortType:t.sortType,sortDirect:t.countSort%2?"asc":"desc"},e.favorites):e.data.length?Object(E.a)({},e,{data:[].concat(Object(d.a)(e.data),Object(d.a)(t.services.data)),current_page:t.services.current_page}):Object(E.a)({},e,{},t.services);case"ADD_TO_FAVORITES":return e.favorites.some((function(e){return e.id===t.id}))?Object(E.a)({},e,{favorites:Object(d.a)(e.favorites).filter((function(e){return e.id!==t.id}))}):Object(E.a)({},e,{favorites:[].concat(Object(d.a)(e.favorites),[e.data[e.data.findIndex((function(e){return e.id===t.id}))]])});case"REMOVE_FROM_FAVORITES":return Object(E.a)({},e,{favorites:Object(d.a)(e.favorites).filter((function(e){return e.id!==t.id}))});case"SET_NEXT_PAGE":return Object(E.a)({},e,{data:[].concat(Object(d.a)(e.data),Object(d.a)(t.data.data)),current_page:t.data.current_page});default:return e}},y=[],L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;arguments.length>1&&arguments[1];return e},D=Object(u.c)({navigationsData:v,serviceListData:j,favoritesData:L}),F=Object(u.e)(D,Object(u.a)(m.a)),k=a(15),w=a(19),T=a(20),I=a(22),x=a(21),B=a(6),C=a.n(B),R=function(e){var t=e.number,a=e.el,r=e.removeFromFavorites,c=e.addToFavorites,s=e.favorites;return n.a.createElement("div",{className:a.isSponsor?"".concat(C.a.serviceItem," ").concat(C.a.isSponsor):C.a.serviceItem},n.a.createElement("span",{className:C.a.number},!r&&t+1),n.a.createElement("span",{className:C.a.logotype},a.image&&n.a.createElement("img",{src:a.image,alt:""}),!a.image&&a.firstLettersOfName),n.a.createElement("span",{className:C.a.name},n.a.createElement(o.b,{to:"/instruments/"+a.code,className:C.a.nav},a.title)),n.a.createElement("span",{className:C.a.partners},a.partnersCount),n.a.createElement("span",{className:C.a.projects},a.worksCount),n.a.createElement("span",{className:C.a.rate},!!a.rate&&a.rate),n.a.createElement("span",{className:C.a.changer},c&&n.a.createElement("input",{className:C.a.checkbox,type:"checkbox",onChange:function(){return c(a.id)},checked:s.some((function(e){return e.id===a.id}))}),r&&n.a.createElement("button",{onClick:function(){return r(a.id)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))},H=a(2),V=a.n(H),M=function(e){var t=e.serviceData,a=e.addToFavorites,r=e.totalServices,c=e.lastUpdateDate,s=e.favorites,o=e.requestNextServicesList,i=e.currentPage,u=e.sort,l=e.countSort,v=e.sortType,m=e.sortDirect;return n.a.createElement("div",{className:V.a.serviceList},n.a.createElement("div",{className:V.a.serviceListHeader},n.a.createElement("span",{className:"".concat(V.a.about," ").concat(V.a.itemsHeader)},"\u0412\u0441\u0435\u0433\u043e \u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432: ",n.a.createElement("b",null,r)," \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e:"," ",n.a.createElement("b",null,c)),n.a.createElement("span",{className:V.a.partners},n.a.createElement("span",{className:"".concat(V.a.itemsHeader," ").concat("partners_count"===v?V.a.activeButton:""),onClick:function(){return u("partners_count",l)}},"\u041f\u0430\u0440\u0442\u043d\u0435\u0440\u044b","partners_count"===v&&(l%2?" \u2228":" \u2227"))),n.a.createElement("span",{className:V.a.projects},n.a.createElement("span",{className:"".concat(V.a.itemsHeader," ").concat("works_count"===v?V.a.activeButton:""),onClick:function(){return u("works_count",l)}},"\u041f\u0440\u043e\u0435\u043a\u0442\u044b","works_count"===v&&(l%2?" \u2228":" \u2227"))),n.a.createElement("span",{className:V.a.rate},n.a.createElement("span",{className:"".concat(V.a.itemsHeader," ").concat("rate"===v?V.a.activeButton:V.a.rate),onClick:function(){return u("rate",l)}},"\u041e\u0446\u0435\u043d\u043a\u0430","rate"===v&&(l%2?" \u2228":" \u2227"))),n.a.createElement("span",{className:"".concat(V.a.changer," ").concat(V.a.itemsHeader)},"\u0412 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435")),n.a.createElement("div",null,t.map((function(e,t){return n.a.createElement(R,{favorites:s,number:t,key:t,el:e,addToFavorites:a})}))),n.a.createElement("button",{className:V.a.downloadButton,onClick:function(){return o(i+1,v,m)}},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0435"))},P=function(e){return e.serviceListData.data},A=function(e){return e.serviceListData.current_page},q=function(e){return e.serviceListData.lastUpdateDate},U=function(e){return e.serviceListData.total},X=function(e){return e.serviceListData.countSort},J=function(e){return e.serviceListData.favorites},W=function(e){return e.serviceListData.sortType},G=function(e){return e.serviceListData.sortDirect},z=function(e){Object(I.a)(a,e);var t=Object(x.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(T.a)(a,[{key:"componentDidMount",value:function(){if(!this.props.serviceData.length){var e=this.props.currentPage;this.props.requestServices(e)}}},{key:"render",value:function(){return n.a.createElement(M,{serviceData:this.props.serviceData,addToFavorites:this.props.addToFavorites,lastUpdateDate:this.props.lastUpdateDate,totalServices:this.props.totalServices,favorites:this.props.favorites,requestNextServicesList:this.props.requestNextServicesList,currentPage:this.props.currentPage,sort:this.props.sort,countSort:this.props.countSort,sortType:this.props.sortType,sortDirect:this.props.sortDirect})}}]),a}(r.Component),Y=Object(i.b)((function(e){return{serviceData:P(e),currentPage:A(e),lastUpdateDate:q(e),totalServices:U(e),favorites:J(e),countSort:X(e),sortType:W(e),sortDirect:G(e)}}),{requestServices:function(e){return function(){var t=Object(f.a)(_.a.mark((function t(a){var r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e);case 2:r=t.sent,a(O(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},requestNextServicesList:function(e,t,a){return function(){var r=Object(f.a)(_.a.mark((function r(n){var c;return _.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,S(e,a,t);case 2:c=r.sent,n({type:"SET_NEXT_PAGE",data:c});case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},addToFavorites:function(e){return{type:"ADD_TO_FAVORITES",id:e}},sort:function(e,t){return function(){var a=Object(f.a)(_.a.mark((function a(r){var n;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b(e,t);case 2:n=a.sent,r(O(n,!0,e,t));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})(z),Q=a(12),$=a.n(Q),K=function(e){var t=e.favorites,a=e.removeFromFavorites;return t.length?n.a.createElement("div",{className:$.a.favorites},n.a.createElement("div",{className:$.a.favoritesHeader},n.a.createElement("span",{className:$.a.logotype}," "),n.a.createElement("span",{className:$.a.name},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),n.a.createElement("span",{className:$.a.partners},"\u041f\u0430\u0440\u0442\u043d\u0435\u0440\u044b"),n.a.createElement("span",{className:$.a.projects},"\u041f\u0440\u043e\u0435\u043a\u0442\u044b"),n.a.createElement("span",{className:$.a.rate},"\u041e\u0446\u0435\u043d\u043a\u0430"),n.a.createElement("span",{className:$.a.changer},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")),n.a.createElement("div",null,t.map((function(e,t){return n.a.createElement(R,{number:t,key:t,el:e,removeFromFavorites:a})})))):n.a.createElement("h2",{className:$.a.nothing},"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u043d\u0435\u0442")},Z=function(e){Object(I.a)(a,e);var t=Object(x.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(T.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return n.a.createElement(K,{favorites:this.props.favorites,removeFromFavorites:this.props.removeFromFavorites})}}]),a}(r.Component),ee=Object(i.b)((function(e){return{favorites:J(e),serviceData:P(e)}}),{removeFromFavorites:function(e){return{type:"REMOVE_FROM_FAVORITES",id:e}}})(Z),te=a(8),ae=a.n(te),re=function(e){var t=e.favorites;return n.a.createElement("nav",{className:ae.a.nav},n.a.createElement("div",{className:ae.a.logotype},n.a.createElement("div",{className:ae.a.firstRow},"CMS"),n.a.createElement("div",{className:ae.a.secondRow},n.a.createElement("span",null,"magazine"),n.a.createElement("span",null,"\u0412\u0421\u0415 \u041e DIGITAL"))),n.a.createElement("div",{className:"".concat(ae.a.item," ").concat(ae.a.active)},n.a.createElement(o.b,{to:"/instruments",activeClassName:ae.a.activeLink},n.a.createElement("span",null,"\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b"))),n.a.createElement("div",{className:"".concat(ae.a.item," ").concat(ae.a.active)},n.a.createElement(o.b,{to:"/favorites",activeClassName:ae.a.activeLink},n.a.createElement("span",null,"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"),"\xa0",t.length?n.a.createElement("span",{className:ae.a.countPages},"\xa0",t.length,"\xa0"):"")))},ne=function(e){Object(I.a)(a,e);var t=Object(x.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(T.a)(a,[{key:"render",value:function(){return n.a.createElement(re,{favorites:this.props.favorites})}}]),a}(r.Component),ce=Object(i.b)((function(e){return{favorites:J(e)}}),{})(ne),se=function(){return n.a.createElement(o.a,{basename:"/test-project-proactivity-group"},n.a.createElement("div",{className:"app-wrapper"},n.a.createElement(ce,null),n.a.createElement("div",{className:"app-wrapper-content"},n.a.createElement(k.d,null,n.a.createElement(k.b,{exact:!0,path:"/",render:function(){return n.a.createElement(k.a,{to:"/instruments"})}}),n.a.createElement(k.b,{path:"/instruments",render:function(){return n.a.createElement(Y,null)}}),n.a.createElement(k.b,{path:"/favorites",render:function(){return n.a.createElement(ee,null)}}),n.a.createElement(k.b,{path:"*",render:function(){return n.a.createElement("h1",null,"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430")}})))))},oe=Object(u.d)(k.g,Object(i.b)((function(){return{}}),{}))(se);window.store=F;var ie=function(){return n.a.createElement(n.a.StrictMode,null,n.a.createElement(o.a,null,n.a.createElement(i.a,{store:F},n.a.createElement(oe,null))))};s.a.render(n.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,a){e.exports={nav:"NavBar_nav__Rfdgw",logotype:"NavBar_logotype__3afuu",firstRow:"NavBar_firstRow__S-da9",secondRow:"NavBar_secondRow__22E0O",item:"NavBar_item__NcN4s",activeLink:"NavBar_activeLink__tvnqb",countPages:"NavBar_countPages__evf4A"}}},[[46,1,2]]]);
//# sourceMappingURL=main.91b84c94.chunk.js.map